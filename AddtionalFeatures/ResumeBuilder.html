<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Resume Builder</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        /* Dark theme */
        body {
            background-color: #1a202c;
            color: #cbd5e0;
        }
        .form-input {
            @apply bg-gray-700 text-white;
        }
        .form-input:focus {
            @apply bg-gray-800;
        }
    </style>
</head>
<body class="p-4">

    <div class="max-w-3xl mx-auto bg-gray-800 p-6 rounded-lg shadow-lg">
        <h1 class="text-2xl font-bold text-white mb-4">Advanced Resume Builder</h1>

        <!-- Personal Information -->
        <div class="mb-6">
            <label for="name" class="block text-sm font-medium text-gray-400">Name</label>
            <input type="text" id="name" class="form-input mt-1 block w-full" placeholder="Enter your name">
        </div>
        <div class="mb-6">
            <label for="email" class="block text-sm font-medium text-gray-400">Email Address</label>
            <input type="email" id="email" class="form-input mt-1 block w-full" placeholder="Enter your email">
        </div>
        <div class="mb-6">
            <label for="phone" class="block text-sm font-medium text-gray-400">Phone Number</label>
            <input type="tel" id="phone" class="form-input mt-1 block w-full" placeholder="Enter your phone number">
        </div>
        <div class="mb-6">
            <label for="linkedin" class="block text-sm font-medium text-gray-400">LinkedIn Profile</label>
            <input type="text" id="linkedin" class="form-input mt-1 block w-full" placeholder="Enter your LinkedIn profile URL">
        </div>

        <!-- Summary -->
        <div class="mb-6">
            <label for="summary" class="block text-sm font-medium text-gray-400">Summary</label>
            <textarea id="summary" class="form-input mt-1 block w-full h-20" placeholder="Enter a summary"></textarea>
        </div>

        <!-- Education -->
        <div class="mb-6">
            <label for="educationDegree" class="block text-sm font-medium text-gray-400">Education Degree</label>
            <input type="text" id="educationDegree" class="form-input mt-1 block w-full" placeholder="Enter your degree">
        </div>
        <div class="mb-6">
            <label for="educationGradYear" class="block text-sm font-medium text-gray-400">Graduation Year</label>
            <input type="text" id="educationGradYear" class="form-input mt-1 block w-full" placeholder="Enter graduation year">
        </div>
        <div class="mb-6">
            <label for="educationGPA" class="block text-sm font-medium text-gray-400">GPA</label>
            <input type="text" id="educationGPA" class="form-input mt-1 block w-full" placeholder="Enter your GPA">
        </div>
        <div class="mb-6">
            <label for="educationCollege" class="block text-sm font-medium text-gray-400">College Name</label>
            <input type="text" id="educationCollege" class="form-input mt-1 block w-full" placeholder="Enter your college name">
        </div>

        <!-- Relevant Industry Experience -->
        <div class="mb-6">
            <label for="industryExperience" class="block text-sm font-medium text-gray-400">Relevant Industry Experience</label>
            <textarea id="industryExperience" class="form-input mt-1 block w-full h-20" placeholder="Enter relevant industry experience"></textarea>
        </div>

        <!-- Additional Work Experience -->
        <div class="mb-6">
            <label for="additionalExperience" class="block text-sm font-medium text-gray-400">Additional Work Experience</label>
            <textarea id="additionalExperience" class="form-input mt-1 block w-full h-20" placeholder="Enter additional work experience"></textarea>
        </div>

        <!-- Skills -->
        <div class="mb-6">
            <label for="skills" class="block text-sm font-medium text-gray-400">Skills</label>
            <div id="skillsContainer" class="flex flex-wrap gap-2">
                <!-- Skills added dynamically -->
            </div>
            <div class="mt-2 flex">
                <input type="text" id="newSkill" class="form-input w-full mr-2" placeholder="Add a new skill">
                <button type="button" onclick="addSkill()" class="bg-gray-700 text-white px-3 py-1 rounded-md text-sm">Add Skill</button>
            </div>
        </div>

        <!-- Soft Skills -->
        <div class="mb-6">
            <label for="softSkills" class="block text-sm font-medium text-gray-400">Soft Skills</label>
            <div id="softSkillsContainer" class="flex flex-wrap gap-2">
                <!-- Soft skills added dynamically -->
            </div>
            <div class="mt-2 flex">
                <input type="text" id="newSoftSkill" class="form-input w-full mr-2" placeholder="Add a new soft skill">
                <button type="button" onclick="addSoftSkill()" class="bg-gray-700 text-white px-3 py-1 rounded-md text-sm">Add Soft Skill</button>
            </div>
        </div>

        <!-- Download Button -->
        <div class="mt-6">
            <button type="button" onclick="previewResume()" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Preview Resume</button>
            <button type="button" onclick="downloadResume()" class="ml-4 bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600">Download PDF</button>
        </div>
    </div>

    <!-- Preview Modal -->
    <div id="previewModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center hidden">
        <div class="max-w-3xl mx-auto bg-gray-800 p-6 rounded-lg shadow-lg">
            <h1 class="text-2xl font-bold text-white mb-4">Resume Preview</h1>
            <div id="previewContent" class="text-white"></div>
            <button type="button" onclick="closePreview()" class="mt-4 bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600">Close</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/vfs_fonts.js"></script>
    <script>
        // Arrays to store skills and soft skills
        let skills = [];
        let softSkills = [];

        // Function to add skills
        function addSkill() {
            const newSkill = document.getElementById('newSkill').value.trim();
            if (newSkill !== '' && !skills.includes(newSkill)) {
                skills.push(newSkill);
                renderSkills();
                document.getElementById('newSkill').value = '';
            }
        }

        // Function to add soft skills
        function addSoftSkill() {
            const newSoftSkill = document.getElementById('newSoftSkill').value.trim();
            if (newSoftSkill !== '' && !softSkills.includes(newSoftSkill)) {
                softSkills.push(newSoftSkill);
                renderSoftSkills();
                document.getElementById('newSoftSkill').value = '';
            }
        }

        // Function to render skills
        function renderSkills() {
            const skillsContainer = document.getElementById('skillsContainer');
            skillsContainer.innerHTML = '';
            skills.forEach(skill => {
                skillsContainer.innerHTML += `
                    <div class="flex items-center bg-gray-700 text-white rounded-full px-3 py-1">
                        <span class="text-sm">${skill}</span>
                        <button type="button" onclick="removeSkill('${skill}')" class="ml-2 text-xs font-medium text-gray-400">x</button>
                    </div>
                `;
            });
        }

        // Function to render soft skills
        function renderSoftSkills() {
            const softSkillsContainer = document.getElementById('softSkillsContainer');
            softSkillsContainer.innerHTML = '';
            softSkills.forEach(skill => {
                softSkillsContainer.innerHTML += `
                    <div class="flex items-center bg-gray-700 text-white rounded-full px-3 py-1">
                        <span class="text-sm">${skill}</span>
                        <button type="button" onclick="removeSoftSkill('${skill}')" class="ml-2 text-xs font-medium text-gray-400">x</button>
                    </div>
                `;
            });
        }

        // Function to remove a skill
        function removeSkill(skill) {
            skills = skills.filter(s => s !== skill);
            renderSkills();
        }

        // Function to remove a soft skill
        function removeSoftSkill(skill) {
            softSkills = softSkills.filter(s => s !== skill);
            renderSoftSkills();
        }

        // Function to preview the resume
        function previewResume() {
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const linkedin = document.getElementById('linkedin').value.trim();
            const summary = document.getElementById('summary').value.trim();
            const educationDegree = document.getElementById('educationDegree').value.trim();
            const educationGradYear = document.getElementById('educationGradYear').value.trim();
            const educationGPA = document.getElementById('educationGPA').value.trim();
            const educationCollege = document.getElementById('educationCollege').value.trim();
            const industryExperience = document.getElementById('industryExperience').value.trim();
            const additionalExperience = document.getElementById('additionalExperience').value.trim();

            const previewContent = `
                <p class="text-xl font-bold">${name}</p>
                <p>${phone} • ${email}</p>
                <p>${linkedin}</p>

                <p>${summary}</p>

                <p class="text-lg font-bold mt-4">Education</p>
                <p>${educationDegree}, ${educationGradYear}, GPA ${educationGPA}</p>
                <p>${educationCollege}</p>

                <p class="text-lg font-bold mt-4">Relevant Industry Experience</p>
                <p>${industryExperience}</p>

                <p class="text-lg font-bold mt-4">Additional Work Experience</p>
                <p>${additionalExperience}</p>

                <p class="text-lg font-bold mt-4">Skills</p>
                ${skills.map(skill => `<p>- ${skill}</p>`).join('')}
                
                <p class="text-lg font-bold mt-4">Soft Skills</p>
                ${softSkills.map(skill => `<p>- ${skill}</p>`).join('')}
            `;

            document.getElementById('previewContent').innerHTML = previewContent;
            document.getElementById('previewModal').classList.remove('hidden');
        }

        // Function to close preview modal
        function closePreview() {
            document.getElementById('previewModal').classList.add('hidden');
        }

        // Function to download resume as PDF
        function downloadResume() {
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const linkedin = document.getElementById('linkedin').value.trim();
            const summary = document.getElementById('summary').value.trim();
            const educationDegree = document.getElementById('educationDegree').value.trim();
            const educationGradYear = document.getElementById('educationGradYear').value.trim();
            const educationGPA = document.getElementById('educationGPA').value.trim();
            const educationCollege = document.getElementById('educationCollege').value.trim();
            const industryExperience = document.getElementById('industryExperience').value.trim();
            const additionalExperience = document.getElementById('additionalExperience').value.trim();

            let docDefinition = {
                content: [
                    { text: `${name}`, style: 'header' },
                    { text: `${phone} • ${email}` },
                    { text: `${linkedin}` },
                    { text: '' },

                    { text: `${summary}`, margin: [0, 10, 0, 10] },
                    
                    { text: 'Education', style: 'subheader' },
                    { text: `${educationDegree}, ${educationGradYear}, GPA ${educationGPA}` },
                    { text: `${educationCollege}` },

                    { text: 'Relevant Industry Experience', style: 'subheader' },
                    { text: `${industryExperience}` },

                    { text: 'Additional Work Experience', style: 'subheader' },
                    { text: `${additionalExperience}` },

                    { text: 'Skills', style: 'subheader' },
                    { ul: skills.map(skill => `- ${skill}`) },

                    { text: 'Soft Skills', style: 'subheader' },
                    { ul: softSkills.map(skill => `- ${skill}`) }
                ],
                styles: {
                    header: {
                        fontSize: 18,
                        bold: true,
                        margin: [0, 0, 0, 10]
                    },
                    subheader: {
                        fontSize: 14,
                        bold: true,
                        margin: [0, 10, 0, 5]
                    }
                }
            };

            pdfMake.createPdf(docDefinition).download(`${name}_Resume.pdf`);
        }
    </script>
</body>
</html>
